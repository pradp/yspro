<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	<bean id="articleIndexSolrTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
		<property name="jobDetail">
			<bean class="org.springframework.scheduling.quartz.JobDetailBean">
				<property name="jobClass" value="com.ht.article.search.ArticleIndexJob" />
				<property name="jobDataAsMap">
					<map>
						<entry key="articleIndexService">
							<ref bean="com.ht.article.search.ArticleIndexService"></ref>
						</entry>
						<entry key="pageSize" value="10000" />
						<entry key="articleManager">
							<ref bean="com.ht.article.service.ArticleManager"></ref>

						</entry>

					</map>
				</property>
			</bean>
		</property>
		<!-- fire at 22pm every day -->
		<!--  <property name="cronExpression" value="0 0 22 * * ?" />-->
		<!-- fire at 21pm every minutes -->
		<property name="cronExpression" value="0 0 17 * * ?" />
	</bean>

	<bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean" autowire="no">
		<property name="triggers">
			<list>
				<ref bean="articleIndexSolrTrigger" />
			</list>
		</property>
	</bean>
</beans>